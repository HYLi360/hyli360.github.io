在最初期介绍 Git 的时候，我们讲过 VCS（Version Control System）与仓库（Repository）的差异，明白了 Git 和 GitHub 完全不是一个东西——GitHub 或许会被封禁，会不可用（即使我们不希望这种事情发生在我们头上）；被微软接管这件事情也让一部分人对 GitHub 失去信心。

怎么办？我们就建立一个完全本地化的 Git 仓库。最终的效果是，用起来就像在 GitHub 那样方便舒适，而使用 Git 的人几乎感受不到什么异样。是不是非常地吸引人？

其实目前已经有一系列成型的方案，能够让你在本地建立一个或若干个 Git 仓库。你当然可以直接用 `git init`，但为了让多人共享方便得如同 GitHub 一样，还是得使用服务器。不必租一个，工位里一台闲置的台式机足矣。

我们选择的方案是 **Gitea**，它是相当轻量级的 DevOps 平台，基于 Go 语言构建，所需配置低至只需一块存储足够的树莓派 Pi 3！

当然，为了确保所有人都能够连接到仓库服务器，我们还需要将这个服务器的端口暴露给他们，一个最常见的解决方法就是内网穿透，直接将端口暴露至公网——但那样风险太大，难以确保安全。

相比之下，虚拟局域网是一个非常棒的主意，它非常适合这种延迟需求不太高的场合。管理虚拟局域网的软件也很多，包括 **Tailscale** 和 **ZeroTier**。我就以自己最熟悉的 **Tailscale** 举例子吧。

## TL;DR

- **使用 Tailscale 建立小型虚拟局域网，便于安全访问远程主机**
- **在服务器安装 Gitea 的主要方法（配置与具体使用部分留到下一篇）**

## Tailscale 的使用

**Tailscale 最大的特点就是简单易用和高度兼容性**，默认配置可解决多数问题，不过你也可以精心设置具体参数（例如设置标签和分组，允许使用 HTTPS）。

——唯一的缺点是，你需要一个 Google、GitHub、Apple 或者微软账户进行登录；在进行 SSH 时还需要重复做一次这个步骤。不过这个缺点顶多算“稍微让人心烦”，而且要迁移到完全主动的方案（例如只使用 WireGuard），使用起来只会更加痛苦。

安装也很简单：打开[这个网页](https://tailscale.com/download)，选择你的操作系统，下载安装（Mac/iOS/Windows/Android）或者执行指令（Linux）即可。

在 Linux 上安装，下载速度可能会慢一些，但安装后再进行升级则几乎无感。慢就慢吧，反正不着急。